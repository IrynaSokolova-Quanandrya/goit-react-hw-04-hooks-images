{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","this","SearchForm","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","onChange","name","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onOpen","onGetImg","onClick","src","alt","ImageGalleryItem__image","showModal","ImageGallery","images","map","id","Button","modalRoot","document","querySelector","Modal","onCloseByClick","nodeName","onClose","onCloseByKedown","code","console","log","window","addEventListener","removeEventListener","createPortal","Overlay","img","App","mainURL","secondaryURL","myKey","page","status","modalImage","searchQuery","loadMore","prev","fetch","then","response","ok","json","Promise","reject","Error","prevState","hits","toggleModal","setImgModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","setTimeout","autoClose","color","height","width","timeout","style","margin","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.945c3295.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2KCVa\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3fCu-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__kebjp\",\"Modal\":\"Modal_Modal__PJypE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3k-73\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2drw_\"};","import React, { Component } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from \"../Searchbar/Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query:'',\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({query: e.target.value.toLowerCase()})        \r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.query.trim() === '') {\r\n            return toast.error(\"Enter search query!\")\r\n           \r\n        }\r\n        this.props.onSubmit(this.state.query)\r\n        this.setState({ query: '' });\r\n    }\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n                    <button type=\"submit\" className={s.SearchForm__button}>\r\n                        <span className={s.SearchForm__buttonLabel}>Search</span>\r\n                    </button>\r\n                    <input\r\n                        className={s.SearchForm__input}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.query}\r\n                        name='query'\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\nexport default Searchbar","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css'\r\n\r\nfunction ImageGalleryItem ({webformatURL, tags, largeImageURL, onOpen, onGetImg}) {\r\n        return (\r\n            <li className={s.ImageGalleryItem}\r\n                onClick={() => onGetImg(largeImageURL, tags)}\r\n            >\r\n                <img\r\n                    src={webformatURL}\r\n                    alt={tags}\r\n                    className={s.ImageGalleryItem__image}\r\n                    showModal={onOpen}\r\n                />\r\n            </li>\r\n        )\r\n    }\r\n\r\n\r\nImageGalleryItem.propTypes = {\r\n  onGetImg: PropTypes.func.isRequired,\r\n  onOpen: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images, showModal, onGetImg }) {\r\n   \r\n      return (\r\n      \r\n      <ul className={s.ImageGallery}>\r\n        {\r\n         images.map(({id, webformatURL, tags, largeImageURL}) =>\r\n           <ImageGalleryItem\r\n             key={id}\r\n             webformatURL={webformatURL}\r\n             tags={tags}\r\n             largeImageURL={largeImageURL}\r\n             onOpen={showModal}\r\n             onGetImg={onGetImg}\r\n\r\n           />\r\n           \r\n          )}\r\n      </ul>\r\n    )\r\n  }\r\n  \r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  showModal: PropTypes.func.isRequired,\r\n  onGetImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery\r\n","import React from \"react\";\r\nimport s from '../Button/Button.module.css';\r\n\r\nfunction Button({onClick}) {\r\n        return (\r\n            <button\r\n                type='button'\r\n                className={s.Button}\r\n                onClick={onClick}\r\n            \r\n            >\r\n                Load more\r\n            </button>\r\n        )\r\n}\r\nexport default Button","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"../Modal/Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component{\r\n     \r\n    componentDidMount() {\r\n        console.log('componentDidMount');\r\n         window.addEventListener('click', this.onCloseByClick)\r\n         window.addEventListener('keydown', this.onCloseByKedown)\r\n    }\r\n    componentWillUnmount() {\r\n        console.log('componentWillUnmount');\r\n         window.removeEventListener ('keydown', this.onCloseByKedown)\r\n    }\r\n    onCloseByClick = (e) => {\r\n        if (e.target.nodeName === \"DIV\") {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n    onCloseByKedown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n    render() {\r\n        const { onGetImg, onClose } = this.props\r\n        return createPortal(\r\n          \r\n            <div className={s.Overlay} onClose={onClose}>\r\n                <div className={s.Modal}>\r\n                    <img\r\n                        src={onGetImg.img}\r\n                    alt={onGetImg.alt} \r\n                    />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  modalImage: PropTypes.object.isRequired,\r\n};\r\n\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport { ToastContainer} from 'react-toastify';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from \"react-loader-spinner\";\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\n\n\nclass App extends Component {\n  state = {\n    mainURL: 'https://pixabay.com/api/',\n    secondaryURL:'&image_type=photo&orientation=horizontal&per_page=12',\n    images: [],\n    myKey:'24253422-4477825d93e6eb518eebc16ed',\n    query: '',\n    page: 1,\n    status: 'idle',\n    error: null,\n    showModal: false,\n    modalImage: '',\n\n  }\n  componentDidMount() {\n    window.addEventListener('click', e => {\n      if (e.target.nodeName === \"IMG\") {\n        this.toggleModal()\n      }\n    })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { mainURL, secondaryURL, query, page, myKey } = this.state;\n\n    window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n        });\n    \n    if (prevState.query !== query) {\n      this.setState({ status: 'pending' })\n      \n      setTimeout(() => {\n        fetch(`${mainURL}?q=${query}&page=${page}&key=${myKey}${secondaryURL}`)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n        return Promise.reject(new Error(`Can not find ${query}!`));\n      })\n        .then((response) => {\n          this.setState({ images: response.hits, page: page + 1, status: 'resolved' })\n        })     \n      }, 1000);\n      \n      \n    }\n    \n  }\n  searchQuery = query => {\n    this.setState({ query });\n    this.setState({page: 1})\n  }\n  loadMore = () => {\n    this.setState((prev) => ({ page: prev.page + 1 }))\n    \n    const { mainURL, secondaryURL, query, page, myKey } = this.state;\n     \n      fetch(`${mainURL}?q=${query}&page=${page}&key=${myKey}${secondaryURL}`)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n        return Promise.reject(new Error(`Can not find ${query}!`));\n      })\n      .then((response) => {\n        this.setState((prevState) => ({ images: [...prevState.images, ...response.hits], status: 'resolved' }))\n        \n      })\n  }\n  \n  toggleModal = () => {\n    \n    this.setState(({ showModal }) => (\n      { showModal: !showModal }\n    ))\n  }\n  setImgModal = (img, alt) => {\n    this.setState({ modalImage: { img: img, alt: alt } });\n  };\n \n  render() {\n    console.log(this.state.modalImage);\n    const { status, images, showModal, modalImage } = this.state\n    return (\n      <>\n      <Searchbar onSubmit={this.searchQuery} />\n      <ToastContainer autoClose={3000} />\n        {status === 'resolved' &&\n          <ImageGallery\n          images={images}\n          showModal={this.toggleModal}\n          onGetImg={this.setImgModal}\n        />\n        }\n        {status === 'pending' &&\n          <Loader\n            className='Loader'\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n          timeout={3000}\n         style={({margin: '0 50%'})}/>\n        \n        }\n        {images.length !== 0 && <Button onClick={this.loadMore}/>\n        }\n        {showModal && <Modal\n          onClose={this.toggleModal}\n          onGetImg={modalImage}\n        />}\n    </>\n   )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Y3Ue\",\"SearchForm\":\"Searchbar_SearchForm__2opw8\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3Pexs\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__33FUl\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1rLiP\"};"],"sourceRoot":""}